
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFM-Search</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Arial', sans-serif;
            background-color: #f4f6f9;
        }
        .search-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            justify-content: center;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .search-container h1 {
          font-size: 32px;
            margin-bottom: 20px;
            color: #333;
        }
        .search-container input {
            width: 1000px;
            max-width: 1000px;
            height: 50px;
            font-size: 16px;
            border-radius: 100px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
        }
        .search-container button {
            width: 100%;
            max-width: 600px;
            padding: 12px;
            background-color: #007bff;
            color: #fff;
            font-size: 16px;
            border: none;
            border-radius: 4px;
        }
        .search-container button:hover {
            background-color: #0056b3;
        }
        .result-card {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }
        .result-card h5 {
            font-size: 18px;
            color: #007bff;
        }
        .result-card a {
            color: #333;
            text-decoration: none;
        }
        .result-card a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="search-container">
      <svg width="500" height="75" viewBox="0 0 606 75" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M39 4.2C43.2667 4.2 47.0667 5.2 50.4 7.19999C53.7333 9.13333 56.3333 11.8333 58.2 15.3C60.0667 18.7 61 22.5333 61 26.8V28.1C61 32.3667 60.0667 36.2333 58.2 39.7C56.3333 43.1667 53.7333 45.9 50.4 47.9C47.0667 49.8333 43.2667 50.8 39 50.8H22.5V73H0.4V4.2H39ZM22.5 34.7H31.6C33.9333 34.7 35.6667 34.1 36.8 32.9C38 31.7 38.6 30.0667 38.6 28V27.2C38.6 25.0667 38 23.4333 36.8 22.3C35.6667 21.1 33.9333 20.5 31.6 20.5H22.5V34.7ZM72.568 4.2H128.168V20.7H94.668V32.5H123.468V48.3H94.668V73H72.568V4.2ZM198.367 73V48.2C198.367 45.1333 198.467 42 198.667 38.8C198.934 35.5333 199.201 32.8 199.467 30.6C199.734 28.4 199.901 27 199.967 26.4H199.567L186.867 73H169.567L156.767 26.5H156.367C156.434 27.1 156.601 28.5 156.867 30.7C157.201 32.8333 157.501 35.5333 157.767 38.8C158.034 42 158.167 45.1333 158.167 48.2V73H137.867V4.2H169.067L179.467 43.9H179.867L190.167 4.2H220.267V73H198.367Z" fill="#C8C8C8"/>
        <path d="M239.301 42.8V34.6H273.301V42.8H239.301Z" fill="#C8C8C8"/>
        <path d="M294.904 67.7754C292.886 66.2454 292.398 64.6992 293.439 63.1367L297.199 57.4727C298.436 55.6172 300.243 55.5195 302.619 57.1797C304.442 58.4492 306.818 59.7676 309.748 61.1348C312.71 62.4694 315.819 63.1367 319.074 63.1367C321.353 63.1367 323.55 62.8763 325.666 62.3555C327.782 61.8346 329.393 60.8255 330.5 59.3281C331.607 57.8307 332.16 56.0566 332.16 54.0059C332.16 52.541 331.916 51.2552 331.428 50.1484C330.939 49.0417 330.142 48.1302 329.035 47.4141C327.928 46.6979 326.789 46.0957 325.617 45.6074C323.566 44.7611 320.979 43.931 317.854 43.1172C314.761 42.2708 311.701 41.2617 308.674 40.0898C305.972 39.0482 303.498 37.6159 301.252 35.793C299.006 33.9701 297.264 31.9193 296.027 29.6406C294.79 27.362 294.172 24.3184 294.172 20.5098C294.172 15.985 295.637 12.1113 298.566 8.88867C301.496 5.66602 304.865 3.59896 308.674 2.6875C312.482 1.77604 316.324 1.32031 320.197 1.32031C324.038 1.32031 327.993 1.90625 332.062 3.07813C336.164 4.25 339.257 5.71484 341.34 7.47266C343.391 9.19792 343.895 10.7604 342.854 12.1602L338.898 17.4824C337.564 19.3053 335.773 19.4518 333.527 17.9219C332.095 16.9453 330.126 15.8548 327.619 14.6504C325.145 13.446 322.557 12.8438 319.855 12.8438C317.935 12.8438 316.161 13.0065 314.533 13.332C312.938 13.6576 311.522 14.4388 310.285 15.6758C309.048 16.9128 308.43 18.4427 308.43 20.2656C308.43 22.0234 308.885 23.4557 309.797 24.5625C310.708 25.6367 311.717 26.4505 312.824 27.0039C313.931 27.5247 315.054 27.9642 316.193 28.3223C319.709 29.4616 322.85 30.4707 325.617 31.3496C328.384 32.196 330.939 33.14 333.283 34.1816C336.538 35.6465 339.029 37.1113 340.754 38.5762C342.479 40.041 343.895 42.043 345.002 44.582C346.141 47.1211 346.711 50.1484 346.711 53.6641C346.711 58.8724 345.051 63.1855 341.73 66.6035C338.41 69.9889 334.715 72.1699 330.646 73.1465C326.61 74.1556 322.671 74.6602 318.83 74.6602C313.166 74.6602 308.56 74.1068 305.012 73C301.464 71.9258 298.094 70.1842 294.904 67.7754ZM471.906 73C469.953 73 468.977 72.0234 468.977 70.0703V24.6602C468.977 22.707 469.953 21.7305 471.906 21.7305H479.621C481.574 21.7305 482.551 22.707 482.551 24.6602V28.6641H482.746C483.592 26.5807 485.008 24.7415 486.994 23.1465C488.98 21.5514 491.324 20.7539 494.025 20.7539C495.881 20.7539 497.411 20.9818 498.615 21.4375C499.755 21.8607 500.194 22.6419 499.934 23.7813L498.566 29.5918C498.273 30.8939 497.395 31.2845 495.93 30.7637C495.083 30.4707 494.27 30.3242 493.488 30.3242C490.363 30.3242 487.775 32.196 485.725 35.9395C483.674 39.6829 482.648 45.1354 482.648 52.2969V70.0703C482.648 72.0234 481.672 73 479.719 73H471.906Z" fill="#4285F4"/>
        <path d="M354.035 47.3652C354.035 39.1296 356.086 32.6354 360.188 27.8828C364.322 23.1302 370.148 20.7539 377.668 20.7539C386.392 20.7539 392.87 23 397.102 27.4922C401.333 31.9844 403.449 39.2109 403.449 49.1719C403.449 51.125 402.538 52.1016 400.715 52.1016H368.488C369.009 57.5052 370.344 60.9069 372.492 62.3066C374.641 63.7064 377.131 64.4063 379.963 64.4063C382.665 64.4063 384.732 64.0482 386.164 63.332C387.596 62.6159 388.801 61.6393 389.777 60.4023C390.884 58.9701 392.251 58.7422 393.879 59.7188L398.762 62.6973C400.682 63.8691 400.959 65.2689 399.592 66.8965C397.606 69.2728 395.279 71.0469 392.609 72.2188C389.94 73.3906 385.725 73.9766 379.963 73.9766C370.62 73.9766 363.964 71.6003 359.992 66.8477C356.021 62.0951 354.035 55.6009 354.035 47.3652ZM368.537 42.3359H389.777C389.777 38.8203 388.898 35.9557 387.141 33.7422C385.383 31.4961 382.583 30.373 378.742 30.373C375.682 30.373 373.257 31.4473 371.467 33.5957C369.676 35.7116 368.7 38.625 368.537 42.3359ZM563.312 73C561.359 73 560.383 72.0234 560.383 70.0703V3.85938C560.383 1.90625 561.359 0.929688 563.312 0.929688H571.125C573.078 0.929688 574.055 1.90625 574.055 3.85938V23.5859C574.055 24.888 573.99 26.1901 573.859 27.4922H574.152C575.65 24.9206 577.554 23.1628 579.865 22.2188C582.176 21.2422 584.96 20.7539 588.215 20.7539C593.293 20.7539 597.492 22.349 600.812 25.5391C604.133 28.7292 605.793 34.556 605.793 43.0195V70.0703C605.793 72.0234 604.816 73 602.863 73H595.051C593.098 73 592.121 72.0234 592.121 70.0703V46.5352C592.121 39.4388 591.633 34.9629 590.656 33.1074C589.68 31.252 587.58 30.3242 584.357 30.3242C580.939 30.3242 578.368 31.6589 576.643 34.3281C574.917 36.9648 574.055 42.4661 574.055 50.832V70.0703C574.055 72.0234 573.078 73 571.125 73H563.312Z" fill="#EA4335"/>
        <path d="M411.359 59.3281C411.359 52.8177 414.468 48.0977 420.686 45.168C426.903 42.2383 433.999 40.6758 441.975 40.4805V38.5273C441.975 35.5326 441.226 33.4167 439.729 32.1797C438.231 30.9427 436.148 30.3242 433.479 30.3242C431.59 30.3242 429.914 30.6009 428.449 31.1543C427.017 31.6751 425.764 32.2936 424.689 33.0098C423.648 33.6934 422.704 34.3932 421.857 35.1094C420.36 36.4115 419.123 36.4766 418.146 35.3047L414.094 30.3242C413.085 29.0872 413.329 27.8177 414.826 26.5156C415.965 25.5065 417.284 24.6276 418.781 23.8789C420.311 23.1302 422.329 22.4303 424.836 21.7793C427.342 21.0957 430.598 20.7539 434.602 20.7539C441.372 20.7539 446.564 22.3164 450.178 25.4414C453.824 28.5664 455.646 33.1725 455.646 39.2598V70.0703C455.646 72.0234 454.67 73 452.717 73H444.709C442.951 73 442.072 72.0234 442.072 70.0703V68.6055H441.975C440.054 70.4609 437.743 71.8281 435.041 72.707C432.372 73.5534 429.914 73.9766 427.668 73.9766C422.329 73.9766 418.277 72.6745 415.51 70.0703C412.743 67.4336 411.359 63.8529 411.359 59.3281ZM425.812 59.0352C425.812 60.1745 426.04 61.1673 426.496 62.0137C426.952 62.8275 427.668 63.4297 428.645 63.8203C429.621 64.2109 430.712 64.4063 431.916 64.4063C433.576 64.4063 435.188 64.1784 436.75 63.7227C438.312 63.2669 440.054 62.1927 441.975 60.5V49.9043C436.506 50.5228 432.844 51.3203 430.988 52.2969C429.133 53.2734 427.798 54.2826 426.984 55.3242C426.203 56.3659 425.812 57.6029 425.812 59.0352Z" fill="#FBBC05"/>
        <path d="M504.621 47.3652C504.621 39.0645 506.704 32.554 510.871 27.834C515.038 23.1139 521.434 20.7539 530.061 20.7539C535.106 20.7539 539.029 21.4212 541.828 22.7559C544.628 24.0905 546.874 26.0436 548.566 28.6152C549.576 30.1452 549.413 31.3496 548.078 32.2285L542.902 35.6465C541.438 36.623 540.152 36.2487 539.045 34.5234C538.492 33.6771 537.434 32.7656 535.871 31.7891C534.309 30.8125 532.372 30.3242 530.061 30.3242C526.382 30.3242 523.632 31.6263 521.809 34.2305C519.986 36.8021 519.074 41.1803 519.074 47.3652C519.074 53.5501 519.986 57.9447 521.809 60.5488C523.632 63.1204 526.382 64.4063 530.061 64.4063C532.697 64.4063 534.829 63.8529 536.457 62.7461C538.085 61.6393 539.615 60.207 541.047 58.4492C542.284 56.9518 543.586 56.7402 544.953 57.8145L549.494 61.3789C550.861 62.4531 550.943 63.8854 549.738 65.6758C548.469 67.5638 546.304 69.4193 543.244 71.2422C540.217 73.0651 535.822 73.9766 530.061 73.9766C521.434 73.9766 515.038 71.6165 510.871 66.8965C506.704 62.1764 504.621 55.666 504.621 47.3652Z" fill="#34A853"/>
      </svg>        
        <form id="searchForm">
            <input type="text" id="searchQuery" class="form-control" placeholder="Enter your search term..." required>
        </form>

        <div id="searchResults" class="mt-4"></div>
    </div>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function performSearch(query) {
            if (!query) return;
            document.getElementById('searchQuery').value = query;

            fetch(`https://search-engine-backend-2ra9.onrender.com/search?query=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    const resultsDiv = document.getElementById('searchResults');
                    resultsDiv.innerHTML = '';  

                    if (!Array.isArray(data) || data.length === 0) {
                        resultsDiv.innerHTML = `<h1 style='margin-top: 100px;'>No results found.</h1>`;
                        return;
                    }

                    data.forEach(result => {
                        const card = document.createElement('div');
                        card.classList.add('result-card');
                        card.innerHTML = `
                            <h5><a href="${result.link}" target="_blank">${result.title}</a></h5>
                            <p>${result.description}</p>
                            <p><a href="${result.link}" target="_blank">${result.link}</a></p>
                        `;
                        resultsDiv.appendChild(card);
                    });
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('searchResults').innerHTML = '<p style="color:red;">Error fetching results. Please try again later.</p>';
                });
        }

        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const query = document.getElementById('searchQuery').value.trim();
            if (query) {
                window.history.pushState({}, "", `?query=${encodeURIComponent(query)}`);
                performSearch(query);
            }
        });

        const queryParam = getQueryParam('query');
        if (queryParam) performSearch(queryParam);
    </script>
    <script>
      document.getElementById("search-btn").addEventListener("click", function() {
          searchQuery();
      });
      
      document.getElementById("search-input").addEventListener("keypress", function(event) {
          if (event.key === "Enter") {
              searchQuery();
          }
      });
      
      function searchQuery() {
          let query = document.getElementById("search-input").value.trim();
          if (query !== "") {
              window.location.href = "/search?q=" + encodeURIComponent(query);
          }
      }
      </script>      

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>